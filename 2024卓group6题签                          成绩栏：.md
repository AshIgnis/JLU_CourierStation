# 成员信息

2024级吉林大学工科试验班(软件工程)程序设计 6 小组：

- **组长**：蓝镇
- **组员**：操歌、林钰博、屈熙宸

---

## 题目要求

1. 驿站管理系统至少包含以下功能：
   - 用户管理。
   - 包裹相关的出库、入库、查询、异常管理。
   - 驿站库存盘点、预警、货架管理（包裹存放位置对应取件码）。
   - 取件通知与寄件提醒的管理。
   - 实现包裹的收、存、发全流程管理。
2. 驿站管理系统应可以管理至少 5 种包裹属性，影响运输方式、计费方式等。
3. 驿站管理系统应可以管理至少 5 类用户，影响包裹计费方式、结算方式等。
4. 在 2 和 3 中至少一类涉及重量或体积因素。
5. 驿站管理系统需适当考虑快递大小、保存、损坏或丢失、误领或冒领、拒收等因素。
6. 实现业务统计（如日报、周报、月报）和数据分析功能（如根据历史数据的分析和预测功能，根据包裹特性优化存放位置、提高存储空间利用率），并能以多种形式展示上述统计和分析结果。
7. 为拓展市场，驿站决定开展为期 3 个月的发件优惠活动，具体优惠活动形式（代金券、打折、满减等）由驿站自行决定。
8. 增加取件、送件到楼服务，这种服务的费用与驿站客户分类相关。

---

> **注意**：每个界面都有 `0` 操作，作用是返回上一级，以下不再赘述。
> 一般而言，每次 `0` 操作都会触发保存到文件和释放内存操作。

---

## 系统功能设计

### **0. 登录界面**

1. **用户操作系统**
   - 如果手机号与密码比对成功：
     - 显示用户信息。
   - 否则：
     1. 注册（当检测到手机号重复时要求重新输入）。
     2. 重新输入。

2. **管理员操作系统**

---

### **1. 用户操作**

1. **查看用户信息**
   - 显示用户的基本信息。

2. **查询包裹信息**
   - 读取文件 `received_packages.txt`。
   - 当用户手机号与包裹手机号相同时，加入展示列表，遍历结束后全部展示。
   - **取件**：
     1. 输入取件码。
     2. 遍历文件，找到并跳过目标包裹。
     3. 删除原文件并重命名临时文件。
        - 如果找到包裹：
          - 显示“包裹取走成功！”。
        - 否则：
          - 显示“未找到对应的包裹”。

3. **邮寄包裹**
   1. 添加寄件包裹：
      - 如果输入有误，可以进行更改。
   2. 查询以往包裹：
      - 遍历链表，手机号相同则加入展示列表。
      - 如果没有包裹，则显示“未曾寄件”。
   3. 保存寄件包裹。

---

### **2. 管理员操作**

1. **用户管理**
   1. 添加用户：
      - 当输入电话号码已存在时，要求重新输入。
      - 输入其他信息（当用户类型非法时，要求重新输入用户类型）。
      - 创建成功后保存到文件。
   2. 查询用户：
      - 如果用户链表为空：
        - 显示“当前没有用户数据”。
      - 否则：
        1. 遍历文件。
        2. 如果找到用户，则输出信息并跳出循环。
        3. 如果未找到用户，则显示“未找到用户”。
   3. 删除用户：
      - 与查询用户逻辑一致，但将信息展示更改为删除用户链表节点。
   4. 保存数据到文件。
   5. 从文件中加载数据。

2. **收取包裹管理**
   1. 添加收件包裹：
      - 如果输入有误（`Y` 信息无误 / `N` 需要修改），可以进行更改。
      - 包裹序列号分配：
        1. 从 `id_box.txt` 读取一个整数。
        2. 根据包裹体积分配前缀。
        3. 剩余序列格式为 `前缀 两位数-四位数`，例如：`A01-1234`。
        4. 将 ID 写回 `id_box.txt`。
   2. 查询收件包裹：
      1. 输入序列号。
      2. 遍历链表。
      3. 如果查询成功，则显示包裹信息；否则提示“未找到”。
   3. 保存收件包裹。
   4. 删除指定包裹：
      1. 输入序列号。
      2. 遍历链表。
      3. 如果查询成功，则显示包裹信息；否则提示“未找到”。
      4. 再次确认是否删除。
         - 如果选择 `Y`，显示“包裹已删除”。
         - 如果选择 `N`，显示“操作已取消”。

3. **邮寄包裹管理**
   - 与 **1.3 邮寄包裹** 的功能一致。

---

### **3. 数据统计与分析**

1. **业务统计**
   - 生成日报、周报、月报。
   - 统计内容包括包裹数量、用户数量、收入等。

2. **数据分析**
   - 根据历史数据进行分析和预测。
   - 根据包裹特性优化存放位置，提高存储空间利用率。
   - 以多种形式展示统计和分析结果（如图表、报表等）。

---

### **4. 优惠活动**

1. **发件优惠活动**
   - 为期 3 个月。
   - 优惠形式包括代金券、打折、满减等。

2. **取件、送件到楼服务**
   - 服务费用与驿站客户分类相关。
